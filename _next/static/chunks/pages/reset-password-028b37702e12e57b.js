(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[6],{4688:function(e,a,s){(window.__NEXT_P=window.__NEXT_P||[]).push(["/reset-password",function(){return s(1383)}])},1383:function(e,a,s){"use strict";s.r(a),s.d(a,{default:function(){return p}});var r=s(5893),o=s(645),t=s.n(o),n=s(7294),i=s(9008),c=s.n(i),d=s(1664),b=s.n(d),l=s(1163),f=s(547);let x=f.g.url,u=f.g.anonKey;function p(){let[e,a]=(0,n.useState)(""),[s,o]=(0,n.useState)(""),[i,d]=(0,n.useState)(!1),[f,p]=(0,n.useState)(""),[g,m]=(0,n.useState)(""),[w,h]=(0,n.useState)(""),k=(0,l.useRouter)();(0,n.useEffect)(()=>{let e=()=>{let e=null,a="none";{let s=new URLSearchParams(window.location.search),r=["token","access_token","reset_token","auth_token","jwt"];for(let o of r){let r=s.get(o);if(r&&r.length>0){e=r,a="search param: ".concat(o);break}}if(!e&&window.location.search.includes("type=recovery")&&(e=s.get("access_token"))&&(a="recovery access_token"),!e&&window.location.hash){let s=new URLSearchParams(window.location.hash.substring(1));for(let o of r){let r=s.get(o);if(r&&r.length>0){e=r,a="hash param: ".concat(o);break}}}if(!e){for(let[r,o]of s)if(o&&o.length>0){e=o,a="any param: ".concat(r);break}}if(!e&&window.location.hash){for(let[s,r]of new URLSearchParams(window.location.hash.substring(1)))if(r&&r.length>0){e=r,a="hash param: ".concat(s);break}}}console.log("Token detection:",e?"Found (".concat(a,"): ").concat(e.substring(0,8),"..."):"Not found"),e&&e.length>0?(h(e),m("info"),p("Reset token found (".concat(a,"): ").concat(e.substring(0,8),"... You can now set your new password.")),console.log("Reset token detected:",e)):(m("error"),p("No reset token found. Please use the forgot password link."),console.log("No reset token found in URL"))};return e(),k.isReady&&e(),window.addEventListener("load",e),()=>window.removeEventListener("load",e)},[k.query,k.isReady]);let j=async r=>{if(r.preventDefault(),e!==s){m("error"),p("Passwords do not match. Please try again.");return}if(e.length<8){m("error"),p("Password must be at least 8 characters long.");return}d(!0),p("");try{let s=await fetch("".concat(x,"/auth/v1/user"),{method:"PUT",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(w),apikey:u},body:JSON.stringify({password:e})});if(s.ok)m("success"),p("Password reset successful! You can now log in with your new password."),a(""),o(""),setTimeout(()=>{k.push("/")},3e3);else{let e=await s.json();m("error"),p(e.message||"Failed to reset password. Please try again."),console.error("Supabase error:",e)}}catch(e){m("error"),p("An error occurred. Please try again."),console.error("Reset password error:",e)}finally{d(!1)}};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)(c(),{children:[(0,r.jsx)("title",{className:"jsx-b4b07140a6c6f6f5",children:"Reset Password - Aditask"}),(0,r.jsx)("meta",{name:"description",content:"Reset your Aditask password",className:"jsx-b4b07140a6c6f6f5"})]}),(0,r.jsx)("div",{className:"jsx-b4b07140a6c6f6f5 reset-password-container",children:(0,r.jsxs)("div",{className:"jsx-b4b07140a6c6f6f5 container",children:[(0,r.jsx)("div",{className:"jsx-b4b07140a6c6f6f5 logo",children:"\uD83D\uDD10"}),w?(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("h1",{className:"jsx-b4b07140a6c6f6f5",children:"Reset Your Password"}),(0,r.jsx)("p",{className:"jsx-b4b07140a6c6f6f5 subtitle",children:"Enter your new password below. Make sure it's secure and easy to remember."}),(0,r.jsxs)("form",{onSubmit:j,className:"jsx-b4b07140a6c6f6f5",children:[(0,r.jsxs)("div",{className:"jsx-b4b07140a6c6f6f5 form-group",children:[(0,r.jsx)("label",{htmlFor:"password",className:"jsx-b4b07140a6c6f6f5",children:"New Password"}),(0,r.jsx)("input",{type:"password",id:"password",value:e,onChange:e=>a(e.target.value),placeholder:"Enter new password",required:!0,disabled:i,minLength:"8",className:"jsx-b4b07140a6c6f6f5"})]}),(0,r.jsxs)("div",{className:"jsx-b4b07140a6c6f6f5 form-group",children:[(0,r.jsx)("label",{htmlFor:"confirmPassword",className:"jsx-b4b07140a6c6f6f5",children:"Confirm New Password"}),(0,r.jsx)("input",{type:"password",id:"confirmPassword",value:s,onChange:e=>o(e.target.value),placeholder:"Confirm new password",required:!0,disabled:i,minLength:"8",className:"jsx-b4b07140a6c6f6f5"})]}),(0,r.jsx)("button",{type:"submit",disabled:i||e.length<8||s.length<8||e!==s,className:"jsx-b4b07140a6c6f6f5 btn",children:i?"Resetting...":"Reset Password"})]})]}):(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("h1",{className:"jsx-b4b07140a6c6f6f5",children:"Checking Reset Link..."}),(0,r.jsx)("p",{className:"jsx-b4b07140a6c6f6f5 subtitle",children:"Please wait while we verify your reset link..."})]}),f&&(0,r.jsx)("div",{className:"jsx-b4b07140a6c6f6f5 "+"message ".concat(g),children:f}),(0,r.jsx)("div",{className:"jsx-b4b07140a6c6f6f5 links",children:(0,r.jsx)(b(),{href:"/",className:"back-link",children:"← Back to Home"})})]})}),(0,r.jsx)(t(),{id:"b4b07140a6c6f6f5",children:".reset-password-container.jsx-b4b07140a6c6f6f5{min-height:100vh;background:-webkit-linear-gradient(315deg,#667eea 0%,#764ba2 100%);background:-moz-linear-gradient(315deg,#667eea 0%,#764ba2 100%);background:-o-linear-gradient(315deg,#667eea 0%,#764ba2 100%);background:linear-gradient(135deg,#667eea 0%,#764ba2 100%);display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-webkit-align-items:center;-moz-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-webkit-justify-content:center;-moz-box-pack:center;-ms-flex-pack:center;justify-content:center;padding:20px}.container.jsx-b4b07140a6c6f6f5{background:white;-webkit-border-radius:20px;-moz-border-radius:20px;border-radius:20px;-webkit-box-shadow:0 20px 40px rgba(0,0,0,.1);-moz-box-shadow:0 20px 40px rgba(0,0,0,.1);box-shadow:0 20px 40px rgba(0,0,0,.1);padding:40px;width:100%;max-width:400px;text-align:center}.logo.jsx-b4b07140a6c6f6f5{width:80px;height:80px;background:-webkit-linear-gradient(315deg,#1976d2,#42a5f5);background:-moz-linear-gradient(315deg,#1976d2,#42a5f5);background:-o-linear-gradient(315deg,#1976d2,#42a5f5);background:linear-gradient(135deg,#1976d2,#42a5f5);-webkit-border-radius:50%;-moz-border-radius:50%;border-radius:50%;margin:0 auto 20px;display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-webkit-align-items:center;-moz-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-webkit-justify-content:center;-moz-box-pack:center;-ms-flex-pack:center;justify-content:center;color:white;font-size:32px;font-weight:bold}h1.jsx-b4b07140a6c6f6f5{color:#333;margin-bottom:10px;font-size:24px}.subtitle.jsx-b4b07140a6c6f6f5{color:#666;margin-bottom:30px;font-size:16px;line-height:1.5}.form-group.jsx-b4b07140a6c6f6f5{margin-bottom:20px;text-align:left}label.jsx-b4b07140a6c6f6f5{display:block;margin-bottom:8px;color:#333;font-weight:500}input.jsx-b4b07140a6c6f6f5{width:100%;padding:15px;border:2px solid#e1e5e9;-webkit-border-radius:10px;-moz-border-radius:10px;border-radius:10px;font-size:16px;-webkit-transition:border-color.3s ease;-moz-transition:border-color.3s ease;-o-transition:border-color.3s ease;transition:border-color.3s ease}input.jsx-b4b07140a6c6f6f5:focus{outline:none;border-color:#1976d2}.btn.jsx-b4b07140a6c6f6f5{background:-webkit-linear-gradient(315deg,#1976d2,#42a5f5);background:-moz-linear-gradient(315deg,#1976d2,#42a5f5);background:-o-linear-gradient(315deg,#1976d2,#42a5f5);background:linear-gradient(135deg,#1976d2,#42a5f5);color:white;border:none;padding:15px 30px;-webkit-border-radius:10px;-moz-border-radius:10px;border-radius:10px;font-size:16px;font-weight:600;cursor:pointer;width:100%;-webkit-transition:-webkit-transform.2s ease;-moz-transition:-moz-transform.2s ease;-o-transition:-o-transform.2s ease;transition:-webkit-transform.2s ease;transition:-moz-transform.2s ease;transition:-o-transform.2s ease;transition:transform.2s ease;text-decoration:none;display:inline-block}.btn.jsx-b4b07140a6c6f6f5:hover:not(:disabled){-webkit-transform:translatey(-2px);-moz-transform:translatey(-2px);-ms-transform:translatey(-2px);-o-transform:translatey(-2px);transform:translatey(-2px)}.btn.jsx-b4b07140a6c6f6f5:disabled{opacity:.7;cursor:not-allowed}.message.jsx-b4b07140a6c6f6f5{margin-top:20px;padding:15px;-webkit-border-radius:10px;-moz-border-radius:10px;border-radius:10px;font-weight:500}.message.success.jsx-b4b07140a6c6f6f5{background:#d4edda;color:#155724;border:1px solid#c3e6cb}.message.error.jsx-b4b07140a6c6f6f5{background:#f8d7da;color:#721c24;border:1px solid#f5c6cb}.message.info.jsx-b4b07140a6c6f6f5{background:#d1ecf1;color:#0c5460;border:1px solid#bee5eb}.links.jsx-b4b07140a6c6f6f5{margin-top:30px}.back-link.jsx-b4b07140a6c6f6f5{color:#1976d2;text-decoration:none;font-weight:500;-webkit-transition:color.3s ease;-moz-transition:color.3s ease;-o-transition:color.3s ease;transition:color.3s ease}.back-link.jsx-b4b07140a6c6f6f5:hover{color:#1565c0}@media(max-width:480px){.container.jsx-b4b07140a6c6f6f5{padding:30px 20px}h1.jsx-b4b07140a6c6f6f5{font-size:22px}.subtitle.jsx-b4b07140a6c6f6f5{font-size:15px}}"})]})}},547:function(e,a,s){"use strict";s.d(a,{g:function(){return r}});let r={url:"https://your-project.supabase.co",anonKey:"your-anon-key-here"}},1163:function(e,a,s){e.exports=s(3079)}},function(e){e.O(0,[996,645,888,774,179],function(){return e(e.s=4688)}),_N_E=e.O()}]);