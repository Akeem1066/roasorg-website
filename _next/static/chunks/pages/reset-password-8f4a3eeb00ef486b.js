(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[6],{4688:function(e,s,a){(window.__NEXT_P=window.__NEXT_P||[]).push(["/reset-password",function(){return a(1383)}])},1383:function(e,s,a){"use strict";a.r(s),a.d(s,{default:function(){return f}});var r=a(5893),o=a(645),t=a.n(o),n=a(7294),i=a(9008),d=a.n(i),c=a(1664),b=a.n(c),l=a(1163);function f(){let[e,s]=(0,n.useState)(""),[a,o]=(0,n.useState)(""),[i,c]=(0,n.useState)(!1),[f,x]=(0,n.useState)(""),[p,u]=(0,n.useState)(""),[m,g]=(0,n.useState)(""),w=(0,l.useRouter)();(0,n.useEffect)(()=>{let e=null;w.query.token&&(e=w.query.token),e||(e=new URLSearchParams(window.location.search).get("token")),!e&&window.location.hash&&(e=new URLSearchParams(window.location.hash.substring(1)).get("token")),e?(g(e),u("info"),x("Reset token found: ".concat(e.substring(0,8),"... You can now set your new password.")),console.log("Reset token detected:",e)):(u("error"),x("No reset token found. Please use the forgot password link."),console.log("No reset token found in URL"))},[w.query]);let h=async r=>{if(r.preventDefault(),e!==a){u("error"),x("Passwords do not match. Please try again.");return}if(e.length<8){u("error"),x("Password must be at least 8 characters long.");return}c(!0),x("");try{let a=await fetch("/api/auth/reset-password",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({token:m,password:e})});if(a.ok)u("success"),x("Password reset successful! You can now log in with your new password."),s(""),o(""),setTimeout(()=>{w.push("/auth/callback")},3e3);else{let e=await a.json();u("error"),x(e.message||"Failed to reset password. Please try again.")}}catch(e){u("error"),x("An error occurred. Please try again."),console.error("Reset password error:",e)}finally{c(!1)}};return m?(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)(d(),{children:[(0,r.jsx)("title",{className:"jsx-b4b07140a6c6f6f5",children:"Reset Password - Aditask"}),(0,r.jsx)("meta",{name:"description",content:"Reset your Aditask password",className:"jsx-b4b07140a6c6f6f5"})]}),(0,r.jsx)("div",{className:"jsx-b4b07140a6c6f6f5 reset-password-container",children:(0,r.jsxs)("div",{className:"jsx-b4b07140a6c6f6f5 container",children:[(0,r.jsx)("div",{className:"jsx-b4b07140a6c6f6f5 logo",children:"\uD83D\uDD10"}),(0,r.jsx)("h1",{className:"jsx-b4b07140a6c6f6f5",children:"Reset Your Password"}),(0,r.jsx)("p",{className:"jsx-b4b07140a6c6f6f5 subtitle",children:"Enter your new password below. Make sure it's secure and easy to remember."}),(0,r.jsxs)("form",{onSubmit:h,className:"jsx-b4b07140a6c6f6f5",children:[(0,r.jsxs)("div",{className:"jsx-b4b07140a6c6f6f5 form-group",children:[(0,r.jsx)("label",{htmlFor:"password",className:"jsx-b4b07140a6c6f6f5",children:"New Password"}),(0,r.jsx)("input",{type:"password",id:"password",value:e,onChange:e=>s(e.target.value),placeholder:"Enter new password",required:!0,disabled:i,minLength:"8",className:"jsx-b4b07140a6c6f6f5"})]}),(0,r.jsxs)("div",{className:"jsx-b4b07140a6c6f6f5 form-group",children:[(0,r.jsx)("label",{htmlFor:"confirmPassword",className:"jsx-b4b07140a6c6f6f5",children:"Confirm New Password"}),(0,r.jsx)("input",{type:"password",id:"confirmPassword",value:a,onChange:e=>o(e.target.value),placeholder:"Confirm new password",required:!0,disabled:i,minLength:"8",className:"jsx-b4b07140a6c6f6f5"})]}),(0,r.jsx)("button",{type:"submit",disabled:i||!m||e.length<8||a.length<8||e!==a,className:"jsx-b4b07140a6c6f6f5 btn",children:i?"Resetting...":"Reset Password"})]}),f&&(0,r.jsx)("div",{className:"jsx-b4b07140a6c6f6f5 "+"message ".concat(p),children:f}),(0,r.jsx)("div",{className:"jsx-b4b07140a6c6f6f5 links",children:(0,r.jsx)(b(),{href:"/",className:"back-link",children:"← Back to Home"})})]})}),(0,r.jsx)(t(),{id:"b4b07140a6c6f6f5",children:".reset-password-container.jsx-b4b07140a6c6f6f5{min-height:100vh;background:-webkit-linear-gradient(315deg,#667eea 0%,#764ba2 100%);background:-moz-linear-gradient(315deg,#667eea 0%,#764ba2 100%);background:-o-linear-gradient(315deg,#667eea 0%,#764ba2 100%);background:linear-gradient(135deg,#667eea 0%,#764ba2 100%);display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-webkit-align-items:center;-moz-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-webkit-justify-content:center;-moz-box-pack:center;-ms-flex-pack:center;justify-content:center;padding:20px}.container.jsx-b4b07140a6c6f6f5{background:white;-webkit-border-radius:20px;-moz-border-radius:20px;border-radius:20px;-webkit-box-shadow:0 20px 40px rgba(0,0,0,.1);-moz-box-shadow:0 20px 40px rgba(0,0,0,.1);box-shadow:0 20px 40px rgba(0,0,0,.1);padding:40px;width:100%;max-width:400px;text-align:center}.logo.jsx-b4b07140a6c6f6f5{width:80px;height:80px;background:-webkit-linear-gradient(315deg,#1976d2,#42a5f5);background:-moz-linear-gradient(315deg,#1976d2,#42a5f5);background:-o-linear-gradient(315deg,#1976d2,#42a5f5);background:linear-gradient(135deg,#1976d2,#42a5f5);-webkit-border-radius:50%;-moz-border-radius:50%;border-radius:50%;margin:0 auto 20px;display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-webkit-align-items:center;-moz-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-webkit-justify-content:center;-moz-box-pack:center;-ms-flex-pack:center;justify-content:center;color:white;font-size:32px;font-weight:bold}h1.jsx-b4b07140a6c6f6f5{color:#333;margin-bottom:10px;font-size:24px}.subtitle.jsx-b4b07140a6c6f6f5{color:#666;margin-bottom:30px;font-size:16px;line-height:1.5}.form-group.jsx-b4b07140a6c6f6f5{margin-bottom:20px;text-align:left}label.jsx-b4b07140a6c6f6f5{display:block;margin-bottom:8px;color:#333;font-weight:500}input.jsx-b4b07140a6c6f6f5{width:100%;padding:15px;border:2px solid#e1e5e9;-webkit-border-radius:10px;-moz-border-radius:10px;border-radius:10px;font-size:16px;-webkit-transition:border-color.3s ease;-moz-transition:border-color.3s ease;-o-transition:border-color.3s ease;transition:border-color.3s ease}input.jsx-b4b07140a6c6f6f5:focus{outline:none;border-color:#1976d2}.btn.jsx-b4b07140a6c6f6f5{background:-webkit-linear-gradient(315deg,#1976d2,#42a5f5);background:-moz-linear-gradient(315deg,#1976d2,#42a5f5);background:-o-linear-gradient(315deg,#1976d2,#42a5f5);background:linear-gradient(135deg,#1976d2,#42a5f5);color:white;border:none;padding:15px 30px;-webkit-border-radius:10px;-moz-border-radius:10px;border-radius:10px;font-size:16px;font-weight:600;cursor:pointer;width:100%;-webkit-transition:-webkit-transform.2s ease;-moz-transition:-moz-transform.2s ease;-o-transition:-o-transform.2s ease;transition:-webkit-transform.2s ease;transition:-moz-transform.2s ease;transition:-o-transform.2s ease;transition:transform.2s ease;text-decoration:none;display:inline-block}.btn.jsx-b4b07140a6c6f6f5:hover:not(:disabled){-webkit-transform:translatey(-2px);-moz-transform:translatey(-2px);-ms-transform:translatey(-2px);-o-transform:translatey(-2px);transform:translatey(-2px)}.btn.jsx-b4b07140a6c6f6f5:disabled{opacity:.7;cursor:not-allowed}.message.jsx-b4b07140a6c6f6f5{margin-top:20px;padding:15px;-webkit-border-radius:10px;-moz-border-radius:10px;border-radius:10px;font-weight:500}.message.success.jsx-b4b07140a6c6f6f5{background:#d4edda;color:#155724;border:1px solid#c3e6cb}.message.error.jsx-b4b07140a6c6f6f5{background:#f8d7da;color:#721c24;border:1px solid#f5c6cb}.message.info.jsx-b4b07140a6c6f6f5{background:#d1ecf1;color:#0c5460;border:1px solid#bee5eb}.links.jsx-b4b07140a6c6f6f5{margin-top:30px}.back-link.jsx-b4b07140a6c6f6f5{color:#1976d2;text-decoration:none;font-weight:500;-webkit-transition:color.3s ease;-moz-transition:color.3s ease;-o-transition:color.3s ease;transition:color.3s ease}.back-link.jsx-b4b07140a6c6f6f5:hover{color:#1565c0}@media(max-width:480px){.container.jsx-b4b07140a6c6f6f5{padding:30px 20px}h1.jsx-b4b07140a6c6f6f5{font-size:22px}.subtitle.jsx-b4b07140a6c6f6f5{font-size:15px}}"})]}):(0,r.jsx)("div",{className:"reset-password-container",children:(0,r.jsxs)("div",{className:"container",children:[(0,r.jsx)("div",{className:"logo",children:"\uD83D\uDD10"}),(0,r.jsx)("h1",{children:"Invalid Reset Link"}),(0,r.jsx)("p",{className:"subtitle",children:"This reset link is invalid or has expired. Please check your email for the correct reset link from Supabase."}),(0,r.jsx)("div",{className:"links",children:(0,r.jsx)(b(),{href:"/",className:"back-link",children:"← Back to Home"})})]})})}},1163:function(e,s,a){e.exports=a(3079)}},function(e){e.O(0,[996,645,888,774,179],function(){return e(e.s=4688)}),_N_E=e.O()}]);