(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[577],{3:function(e,n,r){(window.__NEXT_P=window.__NEXT_P||[]).push(["/auth/callback",function(){return r(4978)}])},4978:function(e,n,r){"use strict";r.r(n),r.d(n,{default:function(){return l}});var a=r(5893),t=r(7294),o=r(9008),i=r.n(o),s=r(1664),c=r.n(s);function l(){let[e,n]=(0,t.useState)("loading"),[r,o]=(0,t.useState)("Processing authentication...");return(0,t.useEffect)(()=>{(async()=>{try{let e=new URLSearchParams(window.location.search),r=e.get("error"),a=e.get("error_description");if(e.get("error_code"),r){n("error");let e="Authentication failed: ".concat(a||r);switch(r){case"access_denied":e="Access was denied. Please try logging in again.";break;case"invalid_request":e="Invalid authentication request. Please try again.";break;case"server_error":e="Server error occurred. Please try again later.";break;case"temporarily_unavailable":e="Service temporarily unavailable. Please try again later.";break;default:e="Authentication failed: ".concat(a||r)}o(e);return}let t=e.get("access_token"),i=e.get("refresh_token"),s=e.get("provider")||"unknown",c=e.get("user_email"),l=e.get("user_name");if(t){n("success");let e=(e=>{switch(e.toLowerCase()){case"google":return"Google";case"github":return"GitHub";case"discord":return"Discord";default:return e}})(s);o("Authentication successful via ".concat(e,"! Redirecting to app...")),localStorage.setItem("supabase_access_token",t),localStorage.setItem("auth_provider",s),localStorage.setItem("auth_timestamp",Date.now().toString()),i&&localStorage.setItem("supabase_refresh_token",i),c&&localStorage.setItem("user_email",c),l&&localStorage.setItem("user_name",l),setTimeout(()=>{window.location.href="/"},2e3)}else n("info"),o("No authentication parameters found. You may need to log in again.")}catch(e){n("error"),o("An unexpected error occurred during authentication."),console.error("Auth callback error:",e)}})()},[]),(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)(i(),{children:[(0,a.jsx)("title",{children:"Authentication Callback - RoaSorg"}),(0,a.jsx)("meta",{name:"viewport",content:"width=device-width, initial-scale=1.0"}),(0,a.jsx)("meta",{name:"description",content:"Authentication callback page for RoaSorg applications"}),(0,a.jsx)("link",{rel:"icon",href:"/roasorg-website/favicon.ico",type:"image/x-icon"}),(0,a.jsx)("style",{children:"\n          body {\n            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;\n            margin: 0;\n            padding: 0;\n            min-height: 100vh;\n            background: radial-gradient(circle at 60% 20%, #3a206e 0%, #1a093b 100%);\n            color: #fff;\n          }\n          .navbar {\n            width: 100%;\n            background: rgba(30, 20, 60, 0.95);\n            display: flex;\n            justify-content: center;\n            gap: 2rem;\n            padding: 1rem 0 0.5rem 0;\n            position: sticky;\n            top: 0;\n            z-index: 10;\n          }\n          .navbar a {\n            color: #a48cff;\n            font-weight: 600;\n            text-decoration: none;\n            font-size: 1.1rem;\n            transition: color 0.2s;\n          }\n          .navbar a:hover {\n            color: #fff;\n          }\n          .container {\n            max-width: 600px;\n            margin: 0 auto;\n            padding: 2rem;\n            text-align: center;\n          }\n          .callback-card {\n            background: #fff;\n            color: #222;\n            border-radius: 15px;\n            padding: 3rem 2rem;\n            box-shadow: 0 4px 20px rgba(0,0,0,0.1);\n            margin-top: 2rem;\n          }\n          .status-icon {\n            font-size: 4rem;\n            margin-bottom: 1rem;\n          }\n          .status-message {\n            font-size: 1.2rem;\n            margin-bottom: 2rem;\n            line-height: 1.6;\n          }\n          .loading-spinner {\n            display: inline-block;\n            width: 40px;\n            height: 40px;\n            border: 4px solid #f3f3f3;\n            border-top: 4px solid #a48cff;\n            border-radius: 50%;\n            animation: spin 1s linear infinite;\n            margin: 1rem auto;\n          }\n          @keyframes spin {\n            0% { transform: rotate(0deg); }\n            100% { transform: rotate(360deg); }\n          }\n          .action-buttons {\n            margin-top: 2rem;\n          }\n          .btn {\n            display: inline-block;\n            padding: 12px 24px;\n            margin: 0 10px;\n            background: #a48cff;\n            color: white;\n            text-decoration: none;\n            border-radius: 8px;\n            font-weight: 600;\n            transition: background 0.2s;\n          }\n          .btn:hover {\n            background: #8b6fff;\n          }\n          .btn-secondary {\n            background: #6c757d;\n          }\n          .btn-secondary:hover {\n            background: #5a6268;\n          }\n          .error-details {\n            background: #f8f9fa;\n            border: 1px solid #dee2e6;\n            border-radius: 8px;\n            padding: 1rem;\n            margin-top: 1rem;\n            text-align: left;\n            font-family: monospace;\n            font-size: 0.9rem;\n            color: #666;\n          }\n        "})]}),(0,a.jsxs)("nav",{className:"navbar",children:[(0,a.jsx)(c(),{href:"/",children:"Home"}),(0,a.jsx)(c(),{href:"/privacy-policy",children:"Privacy Policy"})]}),(0,a.jsx)("div",{className:"container",children:(0,a.jsxs)("div",{className:"callback-card",children:[(0,a.jsx)("div",{className:"status-icon",children:(()=>{switch(e){case"success":return"✅";case"error":return"❌";case"info":return"ℹ️";default:return"⏳"}})()}),(0,a.jsx)("h1",{style:{color:"#1976d2",marginBottom:"1rem"},children:"Authentication Callback"}),(0,a.jsxs)("div",{className:"status-message ".concat((()=>{switch(e){case"success":return"text-green-600";case"error":return"text-red-600";case"info":return"text-blue-600";default:return"text-purple-600"}})()),children:["loading"===e&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("div",{className:"loading-spinner"}),(0,a.jsx)("p",{children:"Processing your authentication..."})]}),"loading"!==e&&(0,a.jsx)("p",{children:r})]}),"error"===e&&(0,a.jsxs)("div",{className:"error-details",children:[(0,a.jsx)("strong",{children:"Error Details:"}),(0,a.jsx)("br",{}),"URL: ",window.location.href,(0,a.jsx)("br",{}),"Time: ",new Date().toLocaleString(),(0,a.jsx)("br",{}),"Error Code: ",new URLSearchParams(window.location.search).get("error_code")||"N/A",(0,a.jsx)("br",{}),"Error Description: ",new URLSearchParams(window.location.search).get("error_description")||"N/A"]}),(0,a.jsxs)("div",{className:"action-buttons",children:["success"===e&&(0,a.jsx)(c(),{href:"/",className:"btn",children:"Go to Homepage"}),"error"===e&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(c(),{href:"/",className:"btn",children:"Go to Homepage"}),(0,a.jsx)("button",{onClick:()=>window.location.reload(),className:"btn btn-secondary",children:"Try Again"})]}),"info"===e&&(0,a.jsx)(c(),{href:"/",className:"btn",children:"Go to Homepage"})]}),(0,a.jsx)("div",{style:{marginTop:"2rem",fontSize:"0.9rem",color:"#666"},children:(0,a.jsxs)("p",{children:["If you're having trouble, please contact us at ",(0,a.jsx)("strong",{children:"roasorg@gmail.com"})]})})]})})]})}}},function(e){e.O(0,[996,888,774,179],function(){return e(e.s=3)}),_N_E=e.O()}]);